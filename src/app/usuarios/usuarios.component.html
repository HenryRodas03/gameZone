<div class="body">
  <form class="table" [formGroup]="userForm">
    <table class="table table-dark table-striped">
      <thead>
        <tr>
          <th scope="col">ID</th>
          <th scope="col">Nombre</th>
          <th scope="col">Correo</th>
          <th scope="col">Contraseña</th>
          <th scope="col">Borrar/Editar</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let us of users ">
          <th scope="row">{{us.id}}</th>
          <td>{{us.name}}</td>
          <td>{{us.email}}</td>
          <td>{{us.password}}</td>
          <td>
            <div class="btn-group" role="group" aria-label="Basic mixed styles example">
              <button data-bs-toggle="modal" data-bs-target="#deleteModal" (click)="deleteData(us.id)" type="button" class="btn btn-danger">Borrar</button>
              <button (click)="seeData(us.id, us.name,us.email,us.password)" type="button"
                class="btn btn-warning">Editar</button>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
    <br>
    
    <!-- inputs -->

    <div class="card" style="width: 18rem;">
      <div class="card-body">
        <h5 class="card-title">Formulario para agregar</h5>
        nombre: <br>
        <input id="n" type="text" [class.is-invalid]="formcontrols.name.errors && formcontrols.name.touched" formControlName="name" />
        <div id="validationServerUsernameFeedback" class="invalid-feedback">
          Nombre obligatorio
        </div>
        <br>
        correo <br>
        <input type="text" formControlName="email" />
        <div *ngIf="formcontrols.email.invalid && formcontrols.email.touched" class="invalid">
          Correo invalido
        </div>
        <br>
        <div class="row g-3 align-items-center">
          <label for="inputPassword6" class="col-form-label">Contraseña </label>
          <div class="col-auto">
            <input formControlName="password" type="password">
            <div *ngIf="formcontrols.password.invalid && formcontrols.password.touched" class="invalid" >
              La contraseña debe tener entre 8 y 26 caracteres, debe contener almenos una mayuscula y un numero
            </div>
            <input formControlName="id"  type="text" [hidden]="true">
          </div>
        </div>
        <br>
    
        <!-- hidden update send and cancel buttons -->
        <button [hidden]="showButton" (click)="sendData()" type="button" class="btn btn-outline-success">Agregar</button>
        <button [hidden]="!showButton" (click)="updateData()" type="button" class="btn btn-outline-secondary">guardar cambios</button>
        <button [hidden]="!showButton" (click)="Cancel()" type="button" class="btn btn-outline-dark">Cancelar</button>
      
       
      </div>
    </div>

 </form>

  <!-- Modal -->
  <div class="modal fade" id="deleteModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="exampleModalLabel">Alerta</h1>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          ¿Seguro que desea borrar la información?
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
          <button (click)="rectify()" type="button" class="btn btn-danger" data-bs-dismiss="modal">Borrar</button>
        </div>
      </div>
    </div>
  </div>
</div>